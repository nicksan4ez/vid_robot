VID_ROBOT
=========

Inline-–±–æ—Ç Telegram –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ—Ä–æ—Ç–∫–∏—Ö –≤–∏–¥–µ–æ. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∞ –ø—É—Ç–∏:
- –ì–æ—Ç–æ–≤—ã–µ —Ä–æ–ª–∏–∫–∏ (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ `file_id`) –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ —á–∞—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ.
- –ù–æ–≤—ã–µ —Ä–æ–ª–∏–∫–∏ –≥–æ—Ç–æ–≤—è—Ç—Å—è –≤ –ª–∏—á–∫–µ –∏ –∑–∞—Ç–µ–º –ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç—Å—è –∫ –æ—Ç–ø—Ä–∞–≤–∫–µ —á–µ—Ä–µ–∑ inline.

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
----------
- Python 3.10+
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π `ffmpeg` –≤ —Å–∏—Å—Ç–µ–º–µ (–Ω—É–∂–µ–Ω `yt-dlp` –¥–ª—è —Å–∫–ª–µ–π–∫–∏/—Ä–µ–º–∏–∫—Å–∞ –∞—É–¥–∏–æ/–≤–∏–¥–µ–æ)
- –¢–æ–∫–µ–Ω –±–æ—Ç–∞ Telegram

–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
-------------
```bash
python3 -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
```

–°–æ–∑–¥–∞–π—Ç–µ `.env` –ø–æ –æ–±—Ä–∞–∑—Ü—É:
```bash
cp .env.example .env
```

–î–∞–ª–µ–µ –∑–∞–¥–∞–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–º–∏–Ω–∏–º—É–º `BOT_TOKEN`).
–î–ª—è –ø–æ–∏—Å–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Piped API, –Ω—É–∂–µ–Ω `PIPED_API_BASE_URL` (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –≤ `PIPED_API_BASE_URLS`).

–ó–∞–ø—É—Å–∫
------
```bash
python3 -m src.main
```

Docker
------
–°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫:
```bash
docker compose up -d --build
```

–û—Å—Ç–∞–Ω–æ–≤–∫–∞:
```bash
docker compose down
```

–î–∞–Ω–Ω—ã–µ
------
- –ë–∞–∑–∞ SQLite —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `./data` (—Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–∞–∫ `/app/data`).
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –æ—Å—Ç–∞—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (`/tmp/vid_robot`).

–ü–æ–≤–µ–¥–µ–Ω–∏–µ
---------
- –í inline-—Ä–µ–∂–∏–º–µ –±–µ–∑ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–∏–¥–µ–æ.
- –ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∑–∞–ø—Ä–æ—Å–∞ –∏—â–µ—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –ø–æ –ø—Ä–æ—à–ª—ã–º –∑–∞–ø—Ä–æ—Å–∞–º –∏ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —Ä–æ–ª–∏–∫–∞.
- –ö–Ω–æ–ø–∫–∞ `switch_pm_text` –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –≤ –ª–∏—á–∫—É, –≥–¥–µ –±–æ—Ç –¥–∞—ë—Ç –∫–Ω–æ–ø–∫—É –¥–ª—è inline-–ø–æ–∏—Å–∫–∞ –Ω–∞ YouTube.
- –í—ã–±–æ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤ inline –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É –∏ –ø—Ä–∏—Å—ã–ª–∞–µ—Ç –≤–∏–¥–µ–æ –≤ –ª–∏—á–∫—É —Å –∫–Ω–æ–ø–∫–æ–π `üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ —á–∞—Ç‚Ä¶`.
- Inline-–≤—ã–¥–∞—á–∞ YouTube —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç—Å—è –ø–æ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–¥–æ 1 –º–∏–Ω—É—Ç—ã), –ª–∏–º–∏—Ç `YT_INLINE_RESULTS`.

–ü—Ä–∏–º–µ—á–∞–Ω–∏—è
----------
- `yt-dlp` –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∫ CLI. –ï—Å–ª–∏ –æ–Ω –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –≤ `PATH`, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞–∫–µ—Ç —á–µ—Ä–µ–∑ `pip`.
- –ó–Ω–∞—á–µ–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤ –∏ TTL –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ `.env`.
- `INLINE_SHOW_YT_CARDS=true` –≤–∫–ª—é—á–∞–µ—Ç –∫–∞—Ä—Ç–æ—á–∫–∏ YouTube –≤ inline-–≤—ã–¥–∞—á–µ (–ø—Ä–∏ –≤—ã–±–æ—Ä–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ).
- –î–ª—è –æ—Ç–ª–∞–¥–∫–∏ `yt-dlp`: `YTDLP_DEBUG=1`, `YTDLP_DEBUG_LINES=5`, `YTDLP_TIMEOUT_SECONDS`, `YTDLP_SOCKET_TIMEOUT`.
- Piped instance –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∑–∞–ø—Ä–æ—Å–æ–º –∫ `/suggestions`. –ï—Å–ª–∏ –∏–Ω—Å—Ç–∞–Ω—Å –Ω–µ—Å—Ç–∞–±–∏–ª–µ–Ω ‚Äî —Å–º–µ–Ω–∏—Ç–µ `PIPED_API_BASE_URL` –∏–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ `PIPED_API_BASE_URLS`.
- –î–ª—è –æ—Ç–ª–∞–¥–∫–∏ Piped: `PIPED_DEBUG=1`.
- –ö—ç—à –ø–æ–∏—Å–∫–∞ Piped —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è `PIPED_CACHE_TTL_SECONDS` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 120 —Å–µ–∫—É–Ω–¥).
