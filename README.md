VID_ROBOT
=========

Inline-–±–æ—Ç Telegram –¥–ª—è –ø–æ–∏—Å–∫–∞, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ—Ä–æ—Ç–∫–∏—Ö –≤–∏–¥–µ–æ.
–û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–∏–Ω—Ü–∏–ø: –≤ –æ–±—ã—á–Ω—ã—Ö —á–∞—Ç–∞—Ö –ø–æ—è–≤–ª—è—é—Ç—Å—è **—Ç–æ–ª—å–∫–æ –≥–æ—Ç–æ–≤—ã–µ –≤–∏–¥–µ–æ**, –≤—Å–µ —Ç—è–∂–µ–ª—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –ª–∏—á–∫–µ.

–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
--------------------
- Inline‚Äë–ø–æ–∏—Å–∫: `@vid_robot <–∑–∞–ø—Ä–æ—Å>` ‚Äî –º–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –≤—ã–¥–∞—á–∞ **–≥–æ—Ç–æ–≤—ã—Ö** –∫–ª–∏–ø–æ–≤.
- –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –Ω–æ–≤–æ–≥–æ –≤–∏–¥–µ–æ —á–µ—Ä–µ–∑ YouTube‚Äë–ø–æ–∏—Å–∫ (Piped API) –∏ `yt-dlp`.
- –ó–∞–≥—Ä—É–∑–∫–∞ —Å–≤–æ–µ–≥–æ –≤–∏–¥–µ–æ –ø–æ —Å—Å—ã–ª–∫–µ (YouTube / Shorts / Instagram Reels / TikTok).
- –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π TOP ‚Äú–ì–æ—Ç–æ–≤–æ–µ‚Äù –∫–∞–∫ —É —Å—Ç–∏–∫–µ—Ä–æ–≤: —Å–Ω–∞—á–∞–ª–∞ –ª–∏—á–Ω—ã–µ —á–∞—Å—Ç—ã–µ, –∑–∞—Ç–µ–º –≥–ª–æ–±–∞–ª—å–Ω–æ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ.
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏: **‚â§ 60 —Å–µ–∫—É–Ω–¥**.
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –≤–∏–¥–µ–æ: MP4/H.264/AAC —Å faststart.
- –ñ–∞–ª–æ–±—ã –Ω–∞ –≤–∏–¥–µ–æ —Å –º–æ–¥–µ—Ä–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ `ADMIN_ID`.

–ö–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç UX
--------------
### 1) Inline –±–µ–∑ –∑–∞–ø—Ä–æ—Å–∞
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç `@vid_robot` –±–µ–∑ —Ç–µ–∫—Å—Ç–∞ ‚Üí –ø–æ–ª—É—á–∞–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π TOP –≥–æ—Ç–æ–≤—ã—Ö –≤–∏–¥–µ–æ.
–ï—Å–ª–∏ –ª–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –º–∞–ª–æ ‚Äî —Å–ø–∏—Å–æ–∫ –¥–æ–ø–æ–ª–Ω—è–µ—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω–æ –ø–æ–ø—É–ª—è—Ä–Ω—ã–º–∏.

–ü–æ–¥–ø–∏—Å–∏:
- **–ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ** ‚Äî –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ
- **–ü–æ–ø—É–ª—è—Ä–Ω–æ–µ** ‚Äî –≥–ª–æ–±–∞–ª—å–Ω—ã–µ

### 2) Inline —Å –∑–∞–ø—Ä–æ—Å–æ–º
`@vid_robot –∫–æ—Ç —Å–º–µ—à–Ω–æ` ‚Üí —Å–Ω–∞—á–∞–ª–∞ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –ø–æ –∫—ç—à—É (–ø–æ –∑–∞–ø—Ä–æ—Å–∞–º –∏ –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫—É),
–ø—Ä–∏—á—ë–º **–ª–∏—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–¥—É—Ç –ø–µ—Ä–≤—ã–º–∏**.

### 3) –ü–æ–∏—Å–∫ –Ω–∞ YouTube (—á–µ—Ä–µ–∑ Piped)
–ö–Ω–æ–ø–∫–∞ ‚Äú–ù–∞–π—Ç–∏ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å üé¨ ‚âà 10 —Å–µ–∫‚Äù –≤–µ–¥—ë—Ç –≤ –ª–∏—á–∫—É.
–î–∞–ª–µ–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Ä–æ–ª–∏–∫ –∏–∑ inline‚Äë–≤—ã–¥–∞—á–∏ `yt:` ‚Äî –∏ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞.

### 4) –ó–∞–≥—Ä—É–∑–∫–∞ —Å–≤–æ–µ–≥–æ –≤–∏–¥–µ–æ (YouTube/Shorts/IG/TikTok)
–ö–Ω–æ–ø–∫–∞ ‚Äú–ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–≤–æ–µ‚Äù –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å—Ü–µ–Ω–∞—Ä–∏–π:
1) –±–æ—Ç –ø—Ä–æ—Å–∏—Ç —Å—Å—ã–ª–∫—É  
2) –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å  
3) –ø—Ä–æ—Å–∏—Ç –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞  
4) –≥–æ—Ç–æ–≤–∏—Ç –≤–∏–¥–µ–æ –∏ –ø—Ä–∏—Å—ã–ª–∞–µ—Ç –≤ –ª–∏—á–∫—É —Å –∫–Ω–æ–ø–∫–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ —á–∞—Ç

–°—Ç–∞—Ç—É—Å—ã –≤—ã–≤–æ–¥—è—Ç—Å—è **–≤ –æ–¥–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏**, —Å –∫–Ω–æ–ø–∫–æ–π –æ—Ç–º–µ–Ω—ã.

–ü–æ–∏—Å–∫ –≤ YouTube
--------------
- –ò—Å—Ç–æ—á–Ω–∏–∫: **Piped API** (`/search`)
- –ü–µ—Ä–≤–∏—á–Ω–∞—è –≤—ã–¥–∞—á–∞ ‚Äî 20 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –æ—Ç –∏–Ω—Å—Ç–∞–Ω—Å–∞.
- –ï—Å–ª–∏ –ø—Ä–∏—Ö–æ–¥–∏—Ç `nextpage`, –±–æ—Ç –¥–æ–≥—Ä—É–∂–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–æ `MAX_INLINE_RESULTS`.
- Shorts —Ä–∞—Å–ø–æ–∑–Ω–∞—é—Ç—Å—è –ø–æ –ø–æ–ª—é `isShort=true` –∏–ª–∏ –ø–æ URL `/shorts/<id>`.

–£—Å—Ç–∞–Ω–æ–≤–∫–∞
---------
–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- Python 3.10+
- `ffmpeg` –≤ —Å–∏—Å—Ç–µ–º–µ
- `yt-dlp` –¥–æ—Å—Ç—É–ø–µ–Ω –≤ `PATH`

–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:
```bash
python3 -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
```

–°–æ–∑–¥–∞–π—Ç–µ `.env`:
```bash
cp .env.example .env
```

–ó–∞–ø—É—Å–∫:
```bash
python3 -m src.main
```

Docker
------
–°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫:
```bash
docker compose up -d --build
```

–û—Å—Ç–∞–Ω–æ–≤–∫–∞:
```bash
docker compose down
```

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
--------------------
–ú–∏–Ω–∏–º—É–º:
- `BOT_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω Telegram‚Äë–±–æ—Ç–∞
- `PIPED_API_BASE_URL` ‚Äî –±–∞–∑–æ–≤—ã–π URL Piped API

–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫:
- `HELP_BUTTON` ‚Äî —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ –ø–æ–º–æ—â–∏ (Markdown)
- `ADMIN_ID` ‚Äî Telegram user id –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–ø–æ–ª—É—á–∞–µ—Ç –∂–∞–ª–æ–±—ã)
- `DB_PATH` ‚Äî –ø—É—Ç—å –∫ SQLite
- `DOWNLOAD_DIR` ‚Äî –≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø–∞–ø–∫–∞ –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
- `MAX_INLINE_RESULTS` ‚Äî –ª–∏–º–∏—Ç inline‚Äë–≤—ã–¥–∞—á–∏ (–≥–æ—Ç–æ–≤—ã–µ + YouTube)
- `POPULAR_INLINE_RESULTS` ‚Äî —Ä–∞–∑–º–µ—Ä —Å–ø–∏—Å–∫–∞ ‚Äú–ì–æ—Ç–æ–≤–æ–µ‚Äù –±–µ–∑ –∑–∞–ø—Ä–æ—Å–∞
- `VID_ROBOT_EMPTY_TOTAL` ‚Äî –æ–±—â–∏–π –ª–∏–º–∏—Ç –≤—ã–¥–∞—á–∏ –ø—Ä–∏ –ø—É—Å—Ç–æ–º –∑–∞–ø—Ä–æ—Å–µ (`@vid_robot`)
- `YT_INLINE_RESULTS` ‚Äî –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–æ—Å—Ç–∞–≤–ª–µ–Ω–æ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
- `MAX_CONCURRENT_JOBS` ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–¥–≥–æ—Ç–æ–≤–æ–∫
- `PM_TOKEN_TTL_SECONDS` ‚Äî TTL —Ç–æ–∫–µ–Ω–æ–≤ –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ –ª–∏—á–∫—É
- `PIPED_TIMEOUT_SECONDS` ‚Äî —Ç–∞–π–º–∞—É—Ç Piped
- `PIPED_DEBUG` ‚Äî –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ Piped (`1/true`)
- `YTDLP_TIMEOUT_SECONDS` ‚Äî —Ç–∞–π–º–∞—É—Ç `yt-dlp`
- `YTDLP_SOCKET_TIMEOUT` ‚Äî socket timeout `yt-dlp`
- `YTDLP_COOKIES_FILE` ‚Äî –ø—É—Ç—å –∫ cookies –¥–ª—è `yt-dlp` (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã)
- `YTDLP_EXTRACTOR_ARGS` ‚Äî –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ extractor-args (`youtube:...`)

–í–∞–∂–Ω–æ –ø—Ä–æ cookies
-----------------
- –£–∫–∞–∑—ã–≤–∞–π **–∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å** –∫ —Ñ–∞–π–ª—É cookies.
- –í Docker –Ω—É–∂–Ω–æ —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ —É–∫–∞–∑–∞—Ç—å –ø—É—Ç—å –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
- `YTDLP_DEBUG` / `YTDLP_DEBUG_LINES` ‚Äî –æ—Ç–ª–∞–¥–∫–∞ `yt-dlp`

–•—Ä–∞–Ω–∏–ª–∏—â–µ
---------
- SQLite –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `./data` (–≤ Docker ‚Äî `/app/data`)
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ `/tmp/vid_robot`

–ü—Ä–∏–º–µ—á–∞–Ω–∏—è
----------
- –í —á–∞—Ç–∞—Ö –ø–æ—è–≤–ª—è—é—Ç—Å—è **—Ç–æ–ª—å–∫–æ –≥–æ—Ç–æ–≤—ã–µ** –≤–∏–¥–µ–æ.
- –í—Å–µ —Ç—è–∂–µ–ª—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –≤ –ª–∏—á–∫–µ.
- –ï—Å–ª–∏ Piped‚Äë–∏–Ω—Å—Ç–∞–Ω—Å –Ω–µ—Å—Ç–∞–±–∏–ª–µ–Ω, –∑–∞–º–µ–Ω–∏—Ç–µ `PIPED_API_BASE_URL` –Ω–∞ –¥—Ä—É–≥–æ–π.
